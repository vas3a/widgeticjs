!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d():a.ayepromise=d()}(this,function(){"use strict";var a={},b=function(){var a=!1;return function(b){return function(){a||(a=!0,b.apply(null,arguments))}}},c=function(a){var b=a&&a.then;return null!==a&&"object"==typeof a&&"function"==typeof b?b.bind(a):void 0},d=function(b,c){var d=a.defer(),e=function(a,b){setTimeout(function(){var c;try{c=a(b)}catch(e){return d.reject(e),void 0}c===d.promise?d.reject(new TypeError("Cannot resolve promise with itself")):d.resolve(c)},1)};return{promise:d.promise,callFulfilled:function(a){b&&b.call?e(b,a):d.resolve(a)},callRejected:function(a){c&&c.call?e(c,a):d.reject(a)}}},e=0,f=1,g=2;return a.defer=function(){var a,h=e,i=[],j=function(b){h=f,a=b,i.forEach(function(b){b.callFulfilled(a)})},k=function(b){h=g,a=b,i.forEach(function(b){b.callRejected(a)})},l=function(b){h===f?b.callFulfilled(a):h===g&&b.callRejected(a)},m=function(a,b){var c=d(a,b);return i.push(c),l(c),c.promise},n=function(a){var c=b();try{a(c(o),c(k))}catch(d){c(k)(d)}},o=function(a){var b;try{b=c(a)}catch(d){return k(d),void 0}b?n(b):j(a)},p=b();return{resolve:p(o),reject:p(k),promise:{then:m,fail:function(a){return m(null,a)}}}},a})},{}],2:[function(a,b){!function(){function a(a){function b(){for(;h=k<j.length&&a>l;){var b=k++,c=j[b],f=d.call(c,1);f.push(e(b)),++l,c[0].apply(null,f)}}function e(a){return function(c,d){--l,null==n&&(null!=c?(n=c,k=m=0/0,f()):(j[a]=d,--m?h||b():f()))}}function f(){null!=n?o(n):i?o(n,j):o.apply(null,[n].concat(j))}var g,h,i,j=[],k=0,l=0,m=0,n=null,o=c;return a||(a=1/0),g={defer:function(){return n||(j.push(arguments),++m,b()),g},await:function(a){return o=a,i=!1,m||f(),g},awaitAll:function(a){return o=a,i=!0,m||f(),g}}}function c(){}var d=[].slice;a.version="1.0.7","function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof b&&b.exports?b.exports=a:this.queue=a}()},{}],3:[function(a,b,c){!function(a,d){"object"==typeof c?b.exports=d():"function"==typeof define&&define.amd?define("uxhr",d):a.uxhr=d()}(this,function(){"use strict";return function(a,b,c){b=b||"",c=c||{};var d=c.complete||function(){},e=c.success||function(){},f=c.error||function(){},g=c.headers||{},h=c.method||"GET",i=c.sync||!1,j=function(){return 0===a.indexOf("http")&&"undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest}();if(!j)throw new Error("Browser doesn't support XHR");if("string"!=typeof b){var k=[];for(var l in b)k.push(l+"="+b[l]);b=k.join("&")}"ontimeout"in j&&(j.ontimeout=+c.timeout||0),j.onload=function(){d(j.responseText,j.status),e(j.responseText)},j.onerror=function(){d(j.responseText),f(j.responseText,j.status)},j.open(h,"GET"===h&&b?a+"?"+b:a,!i);for(var m in g)j.setRequestHeader(m,g[m]);return j.send("GET"!==h?b:null),j}})},{}],4:[function(a,b,c){!function(a){function b(a){if(b[a]!==f)return b[a];var c;if("bug-string-char-index"==a)c="a"!="a"[0];else if("json"==a)c=b("json-stringify")&&b("json-parse");else{var d,e='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var h=j.stringify,i="function"==typeof h&&k;if(i){(d=function(){return 1}).toJSON=d;try{i="0"===h(0)&&"0"===h(new Number)&&'""'==h(new String)&&h(g)===f&&h(f)===f&&h()===f&&"1"===h(d)&&"[1]"==h([d])&&"[null]"==h([f])&&"null"==h(null)&&"[null,null,null]"==h([f,g,null])&&h({a:[d,!0,!1,null,"\x00\b\n\f\r	"]})==e&&"1"===h(null,d)&&"[\n 1,\n 2\n]"==h([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==h(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==h(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==h(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==h(new Date(-1))}catch(l){i=!1}}c=i}if("json-parse"==a){var m=j.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){d=m(e);var n=5==d.a.length&&1===d.a[0];if(n){try{n=!m('"	"')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}c=n}}return b[a]=!!c}var d,e,f,g={}.toString,h="function"==typeof define&&define.amd,i="object"==typeof JSON&&JSON,j="object"==typeof c&&c&&!c.nodeType&&c;j&&i?(j.stringify=i.stringify,j.parse=i.parse):j=a.JSON=i||{};var k=new Date(-0xc782b5b800cec);try{k=-109252==k.getUTCFullYear()&&0===k.getUTCMonth()&&1===k.getUTCDate()&&10==k.getUTCHours()&&37==k.getUTCMinutes()&&6==k.getUTCSeconds()&&708==k.getUTCMilliseconds()}catch(l){}if(!b("json")){var m="[object Function]",n="[object Date]",o="[object Number]",p="[object String]",q="[object Array]",r="[object Boolean]",s=b("bug-string-char-index");if(!k)var t=Math.floor,u=[0,31,59,90,120,151,181,212,243,273,304,334],v=function(a,b){return u[b]+365*(a-1970)+t((a-1969+(b=+(b>1)))/4)-t((a-1901+b)/100)+t((a-1601+b)/400)};(d={}.hasOwnProperty)||(d=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=g?d=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,d=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,d.call(this,a)});var w={"boolean":1,number:1,string:1,undefined:1},x=function(a,b){var c=typeof a[b];return"object"==c?!!a[b]:!w[c]};if(e=function(a,b){var c,f,h,i=0;(c=function(){this.valueOf=0}).prototype.valueOf=0,f=new c;for(h in f)d.call(f,h)&&i++;return c=f=null,i?e=2==i?function(a,b){var c,e={},f=g.call(a)==m;for(c in a)f&&"prototype"==c||d.call(e,c)||!(e[c]=1)||!d.call(a,c)||b(c)}:function(a,b){var c,e,f=g.call(a)==m;for(c in a)f&&"prototype"==c||!d.call(a,c)||(e="constructor"===c)||b(c);(e||d.call(a,c="constructor"))&&b(c)}:(f=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],e=function(a,b){var c,e,h=g.call(a)==m,i=!h&&"function"!=typeof a.constructor&&x(a,"hasOwnProperty")?a.hasOwnProperty:d;for(c in a)h&&"prototype"==c||!i.call(a,c)||b(c);for(e=f.length;c=f[--e];i.call(a,c)&&b(c));}),e(a,b)},!b("json-stringify")){var y={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},z="000000",A=function(a,b){return(z+(b||0)).slice(-a)},B="\\u00",C=function(a){var b,c='"',d=0,e=a.length,f=e>10&&s;for(f&&(b=a.split(""));e>d;d++){var g=a.charCodeAt(d);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=y[g];break;default:if(32>g){c+=B+A(2,g.toString(16));break}c+=f?b[d]:s?a.charAt(d):a[d]}}return c+'"'},D=function(a,b,c,h,i,j,k){var l,m,s,u,w,x,y,z,B,E,F,G,H,I,J,K;try{l=b[a]}catch(L){}if("object"==typeof l&&l)if(m=g.call(l),m!=n||d.call(l,"toJSON"))"function"==typeof l.toJSON&&(m!=o&&m!=p&&m!=q||d.call(l,"toJSON"))&&(l=l.toJSON(a));else if(l>-1/0&&1/0>l){if(v){for(w=t(l/864e5),s=t(w/365.2425)+1970-1;v(s+1,0)<=w;s++);for(u=t((w-v(s,0))/30.42);v(s,u+1)<=w;u++);w=1+w-v(s,u),x=(l%864e5+864e5)%864e5,y=t(x/36e5)%24,z=t(x/6e4)%60,B=t(x/1e3)%60,E=x%1e3}else s=l.getUTCFullYear(),u=l.getUTCMonth(),w=l.getUTCDate(),y=l.getUTCHours(),z=l.getUTCMinutes(),B=l.getUTCSeconds(),E=l.getUTCMilliseconds();l=(0>=s||s>=1e4?(0>s?"-":"+")+A(6,0>s?-s:s):A(4,s))+"-"+A(2,u+1)+"-"+A(2,w)+"T"+A(2,y)+":"+A(2,z)+":"+A(2,B)+"."+A(3,E)+"Z"}else l=null;if(c&&(l=c.call(b,a,l)),null===l)return"null";if(m=g.call(l),m==r)return""+l;if(m==o)return l>-1/0&&1/0>l?""+l:"null";if(m==p)return C(""+l);if("object"==typeof l){for(I=k.length;I--;)if(k[I]===l)throw TypeError();if(k.push(l),F=[],J=j,j+=i,m==q){for(H=0,I=l.length;I>H;H++)G=D(H,l,c,h,i,j,k),F.push(G===f?"null":G);K=F.length?i?"[\n"+j+F.join(",\n"+j)+"\n"+J+"]":"["+F.join(",")+"]":"[]"}else e(h||l,function(a){var b=D(a,l,c,h,i,j,k);b!==f&&F.push(C(a)+":"+(i?" ":"")+b)}),K=F.length?i?"{\n"+j+F.join(",\n"+j)+"\n"+J+"}":"{"+F.join(",")+"}":"{}";return k.pop(),K}};j.stringify=function(a,b,c){var d,e,f,h;if("function"==typeof b||"object"==typeof b&&b)if((h=g.call(b))==m)e=b;else if(h==q){f={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=g.call(i),(h==p||h==o)&&(f[i]=1));}if(c)if((h=g.call(c))==o){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else h==p&&(d=c.length<=10?c:c.slice(0,10));return D("",(i={},i[""]=a,i),e,f,d,"",[])}}if(!b("json-parse")){var E,F,G=String.fromCharCode,H={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},I=function(){throw E=F=null,SyntaxError()},J=function(){for(var a,b,c,d,e,f=F,g=f.length;g>E;)switch(e=f.charCodeAt(E)){case 9:case 10:case 13:case 32:E++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=s?f.charAt(E):f[E],E++,a;case 34:for(a="@",E++;g>E;)if(e=f.charCodeAt(E),32>e)I();else if(92==e)switch(e=f.charCodeAt(++E)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=H[e],E++;break;case 117:for(b=++E,c=E+4;c>E;E++)e=f.charCodeAt(E),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||I();a+=G("0x"+f.slice(b,E));break;default:I()}else{if(34==e)break;for(e=f.charCodeAt(E),b=E;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++E);a+=f.slice(b,E)}if(34==f.charCodeAt(E))return E++,a;I();default:if(b=E,45==e&&(d=!0,e=f.charCodeAt(++E)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(E+1),e>=48&&57>=e)&&I(),d=!1;g>E&&(e=f.charCodeAt(E),e>=48&&57>=e);E++);if(46==f.charCodeAt(E)){for(c=++E;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==E&&I(),E=c}if(e=f.charCodeAt(E),101==e||69==e){for(e=f.charCodeAt(++E),(43==e||45==e)&&E++,c=E;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==E&&I(),E=c}return+f.slice(b,E)}if(d&&I(),"true"==f.slice(E,E+4))return E+=4,!0;if("false"==f.slice(E,E+5))return E+=5,!1;if("null"==f.slice(E,E+4))return E+=4,null;I()}return"$"},K=function(a){var b,c;if("$"==a&&I(),"string"==typeof a){if("@"==(s?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=J(),"]"!=a;c||(c=!0))c&&(","==a?(a=J(),"]"==a&&I()):I()),","==a&&I(),b.push(K(a));return b}if("{"==a){for(b={};a=J(),"}"!=a;c||(c=!0))c&&(","==a?(a=J(),"}"==a&&I()):I()),(","==a||"string"!=typeof a||"@"!=(s?a.charAt(0):a[0])||":"!=J())&&I(),b[a.slice(1)]=K(J());return b}I()}return a},L=function(a,b,c){var d=M(a,b,c);d===f?delete a[b]:a[b]=d},M=function(a,b,c){var d,f=a[b];if("object"==typeof f&&f)if(g.call(f)==q)for(d=f.length;d--;)L(f,d,c);else e(f,function(a){L(f,a,c)});return c.call(a,b,f)};j.parse=function(a,b){var c,d;return E=0,F=""+a,c=K(J()),"$"!=J()&&I(),E=F=null,b&&g.call(b)==m?M((d={},d[""]=c,d),"",b):c}}}h&&define(function(){return j})}(this)},{}],"UI/composition/index":[function(a,b){b.exports=a("jnQQj6")},{}],jnQQj6:[function(a,b){var c,d,e,f,g,h,i,j,k;e=a("config"),f=a("utils/guid"),j=a("./../../../../bower/queue-async/queue.js"),d={},c=function(a,b){var c,g=this;return this._queue=j(1),this._queue.defer(function(a){return g._startQueue=a}),"string"==typeof b?c=e.composition.replace("{id}",b):"object"==typeof b&&(c=e.widget.replace("{id}",b.widget_id),b.skin&&this.setSkin(b.skin),b.content&&this.setContent(b.content)),this.id=f(),d[this.id]=this,c+="#"+this.id,this._iframe=document.createElement("iframe"),this._iframe.setAttribute("class","blogvio-composition"),this._iframe.setAttribute("name",this.id),a.appendChild(this._iframe),this._iframe.setAttribute("src",c),this},c.prototype.queue=function(a){return this._queue.defer(function(b){return a(),b()})},c.prototype._ready=function(){return this._startQueue()},c.prototype._sendMessage=function(a){var b=this;return this._queue.defer(function(c){return b._iframe.contentWindow.postMessage(JSON.stringify(a),"*"),c()}),this},i={clearContent:"cx",setContent:"sc",addContent:"ac",changeContent:"cc",removeContent:"rc",setSkin:"ss",changeSkin:"cs"},k=function(a,b){return c.prototype[a]=function(a){return this._sendMessage({t:b,d:a})}};for(h in i)g=i[h],k(h,g);c.connect=function(a){return d[a.d]._ready()},b.exports=c},{"./../../../../bower/queue-async/queue.js":2,config:"8XITP5","utils/guid":"UGrkyH"}],"UI/editor/index":[function(a,b){b.exports=a("ufPusa")},{}],ufPusa:[function(a,b){var c,d,e,f,g,h=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},i=[].slice;d=a("config"),f=a("./../../../../bower/queue-async/queue.js"),e={},g=function(a,b,c){return function(d){return a._sendMessage({t:"rr",s:c,did:b,d:d})}},c=function(a,b){var c=this;return this.composition=b,this._queue=f(1),this._queue.defer(function(a){return c._startQueue=a}),this.composition.queue(this._compReady.bind(this)),e[this.composition.id]=this,this._iframe=document.createElement("iframe"),this._iframe.setAttribute("class","blogvio-editor"),a.appendChild(this._iframe),this._iframe.setAttribute("src",d.editor+"#"+this.composition.id),this},c.prototype.close=function(){return e[this.composition.id]=null,this._iframe.parentNode.removeChild(this._iframe),this},c.prototype.goTo=function(a){var b;return b=["skin","content","details","done"],h.call(b,a)<0?console.warn("The editor does not have the "+a+" step."):(this._sendMessage({t:"step",d:a}),this)},c.prototype.save=function(){return this.goTo("done"),this},c.prototype.on=function(a,b){var c,d,e,f,g;for(d=a.split(" "),c=this.hasOwnProperty("_callbacks")&&this._callbacks||(this._callbacks={}),f=0,g=d.length;g>f;f++)e=d[f],c[e]||(c[e]=[]),c[e].push(b);return this},c.prototype.off=function(a,b){var c,d,e,f,g,h,i,j,k,l;if(0===arguments.length)return this._callbacks={},this;if(!a)return this;for(d=a.split(" "),h=0,j=d.length;j>h;h++)if(g=d[h],f=null!=(l=this._callbacks)?l[g]:void 0)if(b){for(e=i=0,k=f.length;k>i;e=++i)if(c=f[e],c===b){f=f.slice(),f.splice(e,1),this._callbacks[g]=f;break}}else delete this._callbacks[g];return this},c.prototype._trigger=function(){var a,b,c,d,e,f,g;if(a=1<=arguments.length?i.call(arguments,0):[],c=a.shift(),d=this.hasOwnProperty("_callbacks")&&(null!=(g=this._callbacks)?g[c]:void 0)){for(e=0,f=d.length;f>e&&(b=d[e],b.apply(this,a)!==!1);e++);return!0}},c.prototype._sendMessage=function(a){return this._iframe.contentWindow.postMessage(JSON.stringify(a),"*")},c.prototype._ready=function(){return this._startQueue()},c.prototype._compReady=function(){var a=this;return this._queue.defer(function(b){return a._sendMessage({t:"ready"}),b()})},c.connect=function(a){return e[a.id]._ready()},c.event=function(a){return e[a.id]._trigger(a.e,a.d)},c.relay=function(a){var b,c,d,f;return d=e[a.id],f=a.a,c=f[0],b=2<=f.length?i.call(f,1):[],Blogvio.api.apply(Blogvio,b).then(g(d,c,"s"),g(d,c,"f"))},b.exports=c},{"./../../../../bower/queue-async/queue.js":2,config:"8XITP5"}],Ecauda:[function(a,b){var c,d,e,f,g;c=a("./composition"),d=a("./editor"),f=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(c,arguments,function(){})},g=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(d,arguments,function(){})},e={composition:f,editor:g},b.exports=e},{"./composition":"jnQQj6","./editor":"ufPusa"}],"UI/index":[function(a,b){b.exports=a("Ecauda")},{}],"api/index":[function(a,b){b.exports=a("FMNssa")},{}],FMNssa:[function(a,b){var c,d,e,f,g,h,i,j,k,l;e=a("../config"),l=a("./request"),k=a("../utils/queue"),g=a("../utils/guid"),d=a("./../../../bower/aye/ayepromise.js"),h=a("json3"),f={},i={},j=function(a,b,c,d){var f,g;return a=e.api+a,f=(null!=(g=i.tokens)?g.access_token:void 0)||!1,(b||(b="GET"))instanceof Object&&(c=b,b="GET"),"GET"!==b?a+=f?"?access_token="+f:"":(c||(c={}),f&&(c.access_token=f)),h.stringify({t:"a",id:d,a:{u:a,m:b,d:c}})},c=function(a,b,c){var e,h,l,m=this;return h=g(),l=(f[h]=e=d.defer()).promise,k.defer(function(d){var g,k;return k=j.apply(m,e.margs=[a,b,c,h]),l.then(g=function(){return f[h]=null||d()},g),i.proxy(k)}),l},c.response=function(b){var c,d,e,g;if(e=f[b.id],c=b.a,d=c.d,""!==d)try{d=h.parse(d)}catch(k){return e.reject("JSON Parse error!"),void 0}return"t"===c.t?e.resolve(d):d.error&&"invalid_grant"===d.error?(g=function(){return i.proxy(j.apply(this,e.margs))},a("../auth/index")(!1).then(g,function(){return e.reject("Unable to login again!")})):e.reject(d)},c.setProxy=function(a){return i.proxy=a},c.setTokens=function(a){return i.tokens=a},c.getStatus=function(){var a;return(null!=(a=i.tokens)?a.access_token:void 0)?{status:"connected",accessToken:i.tokens.access_token,expiresIn:i.tokens.expires_in,scope:i.tokens.scope}:{status:"disconnected"}},c.accessToken=function(a){var b;return a&&c.setTokens({access_token:a,expires_in:void 0,scope:void 0}),null!=(b=i.tokens)?b.access_token:void 0},c.disconnect=function(){return i.tokens=null},c.queue=k,c.request=l,b.exports=c},{"../auth/index":"yxtcLU","../config":"8XITP5","../utils/guid":"UGrkyH","../utils/queue":"yrKePh","./../../../bower/aye/ayepromise.js":1,"./request":"VqaOnQ",json3:4}],"api/request":[function(a,b){b.exports=a("VqaOnQ")},{}],VqaOnQ:[function(a,b){var c,d,e;e=a("./../../../bower/uxhr/uxhr.js"),c=a("json3"),d=function(a){var b,d,f,g,h,i,j,k;if(a.id&&(b=a.a))return k=b.u,i=b.m,f=b.d,h={id:a.id,t:"e",a:{}},g={"Content-type":"application/json"},("PUT"===(i=i.toUpperCase())||"DELETE"===i)&&(g["X-HTTP-Method-Override"]=i,i="POST"),d=function(a,b){return h.a.t=200===b||201===b||202===b||204===b?"t":"f",h.a.d=a,h=c.stringify(h),window.parent.postMessage(h,"*")},j={method:i,headers:g,complete:d},e(k,f,j)},b.exports=d},{"./../../../bower/uxhr/uxhr.js":3,json3:4}],"auth/iframe":[function(a,b){b.exports=a("3Vwtb5")},{}],"3Vwtb5":[function(a,b){var c,d,e,f;c=a("./../../../bower/aye/ayepromise.js"),f=window,e={},d=function(a,b){var c,f,g,h,i;return h=b.promise,d=document.createElement("iframe"),g=e.root.el,g.appendChild(d),f=function(){return b.reject("Timeout error")},c=function(){return g.removeChild(d),clearTimout(i)},i=setTimeout(f,1e4),h.then(c,c),d.setAttribute("src",a),h},d.setRoot=function(a){return e.root=a},b.exports=d},{"./../../../bower/aye/ayepromise.js":1}],"auth/index":[function(a,b){b.exports=a("yxtcLU")},{}],yxtcLU:[function(a,b){var c,d,e,f,g,h,i,j,k,l;g=a("../config"),c=a("../api"),k=a("./popup"),h=a("./iframe"),f=a("./../../../bower/aye/ayepromise.js"),d={},j={},i=[],l=function(a){return null==a&&(a=[]),""+g.auth+"?client_id="+d.id+"&redirect_uri="+d.uri+"&response_type=token&scope="+a.join(" ")},e=function(a,b){var c,d;return null==a&&(a=!0),c=f.defer(),d=a?k:h,b&&(i=b),b=i,j.deffered=c,d(l(b),c)},e.setAuthOptions=function(a,b){return d.id=a,d.uri=b},e.connect=function(a){var b;return b=a.d,b&&b.access_token?(c.setTokens(b),j.deffered.resolve(c.getStatus())):j.deffered.reject(c.getStatus())},b.exports=e},{"../api":"FMNssa","../config":"8XITP5","./../../../bower/aye/ayepromise.js":1,"./iframe":"3Vwtb5","./popup":"09Pigf"}],"09Pigf":[function(a,b){var c,d,e,f,g,h;c=a("./../../../bower/aye/ayepromise.js"),d=a("../utils/guid"),h=window,e={},f=function(a,b){var c,d;return c=(screen.width-a)/2,d=(screen.height-b)/2,"location=no,menubar=no,toolbar=no,scrollbars=no,status=no,resizable=no,width="+a+",height="+b+",left="+c+",top="+d},g=function(a,b){var c,g,i,j,k;return i=b.promise,null!=(k=e.win)&&k.close(),e.win=j=h.open(a,"blogvio_popup_"+d(),f(500,320)),c=function(){return!j||j.closed?(clearInterval(g),b.reject("window closed")):void 0},g=setInterval(c,50),i.then(function(){return j.close()}),i},b.exports=g},{"../utils/guid":"UGrkyH","./../../../bower/aye/ayepromise.js":1}],"auth/popup":[function(a,b){b.exports=a("09Pigf")},{}],config:[function(a,b){b.exports=a("8XITP5")},{}],"8XITP5":[function(a,b){var c,d,e,f,g,h;f=a("./detect/parse"),d=function(){var a,b,c;return c="blogvio_test_src",document.write("<script id='"+c+"'></script>"),a=document.getElementById(c),b=a.previousSibling,"STYLE"===b.nodeName&&(b=b.previousSibling),a.parentNode.removeChild(a),b},g=d(),h=f(g.src),e=h.hashKey.domain||"blogvio.com",c={proxy:"//"+e+"/sdk/proxy.html#proxy",auth:"//"+e+"/oauth/v2/auth",composition:"//"+e+"/api/v2/compositions/{id}/embed.html",widget:"//"+e+"/api/v2/widgets/{id}/embed.html",editor:"//"+e+"/api/v2/editor.html",api:"/api/v2/"},b.exports=c},{"./detect/parse":"H7Mrcz"}],"detect/index":[function(a,b){b.exports=a("0AZ/Pn")},{}],"0AZ/Pn":[function(a,b){var c,d,e,f;e=a("./parse"),d=a("json3"),f=window,c=function(a){var b,c,g,h,i,j,k,l;if((!f.parent||f.parent!==f||f.opener)&&(h=e(a),c=h.hash,g=h.hashKey,j=h.query,k=h.queryKey,i="proxy"===c,j||g.access_token||i))return l=i?"i":"o",b=c?i?void 0:g:k,(f.opener||f.parent).postMessage(d.stringify({d:b,t:l}),"*")},c.parse=e,b.exports=c},{"./parse":"H7Mrcz",json3:4}],"detect/parse":[function(a,b){b.exports=a("H7Mrcz")},{}],H7Mrcz:[function(a,b){var c;c=function(a){var b,d,e,f;for(e=c.options,d=e.parser[e.strictMode?"strict":"loose"].exec(a),f={},b=14;b--;)f[e.key[b]]=d[b]||"";return f[e.q.name]={},f[e.key[12]].replace(e.q.parser,function(a,b,c){return b?f[e.q.name][b]=c:void 0}),f[e.h.name]={},f[e.key[13]].replace(e.h.parser,function(a,b,c){return b?f[e.h.name][b]=c:void 0}),f},c.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","hash"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},h:{name:"hashKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},b.exports=c},{}],L8S0oV:[function(a,b){var c,d,e,f,g,h,i,j;g="#blogvio-root{position:absolute;top:-1000px;left:-1000px;width:0px;height:0px;visibility:hidden;z-index:-1}#blogvio-root iframe{width:0px;height:0px}iframe.blogvio-composition {border: none;width: 100%;height: 100%;}iframe.blogvio-editor {width: 490px; height: 565px; border:none;overflow:hidden}",f=a("../config"),h=a("../utils/event"),d=a("../api/index"),i=a("../auth/iframe"),j=d.queue.steps,e=a("./../../../bower/aye/ayepromise.js"),c=function(){var a;return a=document.getElementsByTagName("body")[0],a.appendChild(this.el=document.createElement("div")),this.el.id="blogvio-root",i.setRoot(this),this},c.prototype.createProxy=function(){var a,b,e;return j.init&&(b=document.createElement("iframe"),this.el.appendChild(b),a=function(){return c._done=null,clearTimeout(e),console.error("Could not initialize iframe")},e=setTimeout(a,1e4),c._done=function(){return d.setProxy(function(a){return b.contentWindow.postMessage(a,"*")}),console.log("SDK initialized"),clearTimeout(e),j.init(),c._done=j.init=null},b.setAttribute("src",f.proxy)),this},c.connect=function(){return"function"==typeof c._done?c._done():void 0},c.style=function(){var a,b;return a=document.getElementsByTagName("head")[0],a.appendChild(b=document.createElement("style")),b.textContent=g},b.exports=c},{"../api/index":"FMNssa","../auth/iframe":"3Vwtb5","../config":"8XITP5","../utils/event":"hDR6Ig","./../../../bower/aye/ayepromise.js":1}],"dom/root":[function(a,b){b.exports=a("L8S0oV")},{}],index:[function(a,b){b.exports=a("xG1ei8")},{}],xG1ei8:[function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;g=a("./dom/root"),h=a("./api"),i=a("./auth"),j=a("./detect"),f=a("json3"),k=a("./utils/event"),m=a("./utils/ready"),d=a("./UI/composition"),e=a("./UI/editor"),p=window,l=!1,o={a:h.request,e:h.response,i:g.connect,o:i.connect,u:d.connect,w:e.connect,r:e.relay,ee:e.event},n=function(a){var b,c,d;b=a.data;try{if("string"!=typeof b)return;b=f.parse(b)}catch(e){if(c=e,b.startsWith("_FB_"))return;return console.warn("Blogvio SDK: error parsing JSON:",b),void 0}try{return"function"==typeof o[d=b.t]?o[d](b):void 0}catch(e){return c=e,console.error("Blogvio SDK: ",c.stack)}},c=function(){return"function"==typeof p.BlogvioAsyncInit&&p.BlogvioAsyncInit(),k.on(p,"message",n),j(p.location.href),g.style()},c.prototype.initProxy=function(){var a=this;if(!l)return m(function(){return(a.root=new g).createProxy(),l=!0})},c.prototype.init=function(a,b){return this.initProxy(),a&&b?(i.setAuthOptions(a,b),this):this},c.prototype.api=function(){return this.initProxy(),h.apply(this,arguments)},c.prototype.auth=function(){return i.apply(this,arguments)},c.prototype.auth.status=function(){return h.getStatus.apply(this,arguments)},c.prototype.auth.token=function(){return h.accessToken.apply(this,arguments)},c.prototype.auth.disconnect=function(){return h.disconnect.apply(this,arguments)},c.prototype.JSON=f,c.prototype.Queue=h.queue,c.prototype.Aye=a("./../../bower/aye/ayepromise.js"),c.prototype.Event=k,c.prototype.GUID=a("./utils/guid"),c.prototype.require=a,c.prototype.UI=a("./UI"),c.prototype.VERSION="0.2.3",b.exports=c},{"./../../bower/aye/ayepromise.js":1,"./UI":"Ecauda","./UI/composition":"jnQQj6","./UI/editor":"ufPusa","./api":"FMNssa","./auth":"yxtcLU","./detect":"0AZ/Pn","./dom/root":"L8S0oV","./utils/event":"hDR6Ig","./utils/guid":"UGrkyH","./utils/ready":"HTcrDo",json3:4}],hDR6Ig:[function(a,b){var c,d;c="addEventListener",d="removeEventListener",b.exports={on:function(a,b,d,e){return null==e&&(e=!1),a[c]?a[c](b,d,e):a.attachEvent("on"+b,d)},off:function(a,b,c,e){return null==e&&(e=!1),a[d]?a[d](b,c,e):a.detachEvent("on"+b,c)}}},{}],"utils/event":[function(a,b){b.exports=a("hDR6Ig")},{}],"utils/guid":[function(a,b){b.exports=a("UGrkyH")},{}],UGrkyH:[function(a,b){var c;c=function(){var a;return a=function(a){var b;return b=(Math.random().toString(16)+"000000000").substr(2,8),a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b},a()+a(!0)+a(!0)+a()},b.exports=c},{}],"utils/queue":[function(a,b){b.exports=a("yrKePh")},{}],yrKePh:[function(a,b){var c,d,e;d=a("./../../../bower/queue-async/queue.js")(1),e={},c=function(a){return e.init=a},d.defer(c),d.steps=e,b.exports=d},{"./../../../bower/queue-async/queue.js":2}],HTcrDo:[function(a,b){var c;c=function(a){return document.addEventListener?document.addEventListener("DOMContentLoaded",a):document.attachEvent("onreadystatechange",function(){return"interactive"===document.readyState?a():void 0})},b.exports=c},{}],"utils/ready":[function(a,b){b.exports=a("HTcrDo")},{}],39:[function(a,b){var c;c=a("./blogvio"),window.Blogvio||(window.Blogvio=new c),b.exports=window.Blogvio},{"./blogvio":"xG1ei8"}]},{},[39]);